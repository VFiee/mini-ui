{"version":3,"file":"index.js","sources":["../../../packages/components/cell/index.tsx"],"sourcesContent":["import React, { useMemo, isValidElement } from \"react\";\nimport { View } from \"@tarojs/components\";\nimport Icon from \"components/icon\";\nimport { isFunction, isNull, isUndefined, navigateTo, redirectTo } from \"utils\";\nimport { IconProps, CellProps, CellGroupProps } from \"types\";\n\nconst defaultCellProps = {\n  colon: false,\n  replace: false,\n  center: false,\n  arrow: false,\n  border: true,\n  arrowDirection: \"right\",\n};\n\nconst Cell = (props: CellProps) => {\n  const {\n    title,\n    colon,\n    titleClass,\n    titleStyle,\n    value,\n    valueClass,\n    valueStyle,\n    label,\n    labelClass,\n    labelStyle,\n    icon,\n    rightIcon,\n    url,\n    replace,\n    required,\n    arrow,\n    arrowDirection,\n    center,\n    className,\n    onClick,\n    border,\n    ...restProps\n  } = {\n    ...defaultCellProps,\n    ...props,\n  };\n\n  const _label = useMemo(() => {\n    if (isUndefined(label)) return null;\n    return (\n      <View\n        className={`__cell__label__ ${labelClass ?? \"\"}`}\n        style={labelStyle ?? \"\"}\n      >\n        {label}\n      </View>\n    );\n  }, [label, labelClass, labelStyle]);\n\n  const _icon = useMemo(() => {\n    if (isUndefined(icon)) return null;\n    let _iconProps = (typeof icon === \"string\"\n      ? { type: icon }\n      : icon) as IconProps;\n    return isValidElement(icon) ? (\n      icon\n    ) : (\n      <Icon\n        {..._iconProps}\n        className={`__cell__left__icon__ ${_iconProps?.className ?? \"\"}`}\n      />\n    );\n  }, [icon]);\n\n  const _rightIcon = useMemo(() => {\n    if (isUndefined(rightIcon) && !arrow) return null;\n    let _iconProps = (typeof rightIcon === \"string\"\n      ? { type: rightIcon }\n      : rightIcon) as IconProps;\n    if (arrow) {\n      _iconProps = {\n        type: \"icon-back5\",\n        className: `__cell__icon__arrow__ ${arrowDirection ?? \"\"}`,\n      };\n    }\n    return isValidElement(rightIcon) ? (\n      rightIcon\n    ) : (\n      <Icon\n        {..._iconProps}\n        className={`__cell__right__icon__ ${_iconProps?.className ?? \"\"}`}\n      />\n    );\n  }, [arrow, arrowDirection, rightIcon]);\n\n  const _title = useMemo(() => {\n    if (isUndefined(title)) return null;\n    return (\n      <View\n        style={titleStyle ?? \"\"}\n        className={`__cell__title__ ${titleClass ?? \"\"}`}\n      >\n        {title}\n        {colon ? \":\" : \"\"}\n        {_label}\n      </View>\n    );\n  }, [_label, colon, title, titleClass, titleStyle]);\n\n  const _value = useMemo(() => {\n    return (\n      <View\n        className={`__cell__value__ ${\n          isNull(_title) ? \"__cell__value__only__\" : \"\"\n        } ${valueClass ?? \"\"}`}\n        style={valueStyle ?? \"\"}\n      >\n        {value}\n      </View>\n    );\n  }, [_title, value, valueClass, valueStyle]);\n\n  return (\n    <View\n      {...restProps}\n      onClick={(eve) => {\n        const isUrl = typeof url === \"string\";\n        if (isFunction(onClick)) {\n          // @ts-ignore\n          isUrl ? onClick({ replace, url }, eve) : onClick(eve);\n        }\n        if (!isUrl) return;\n        // @ts-ignore\n        replace ? redirectTo(url) : navigateTo({ url });\n      }}\n      className={`__cell__  ${required ? \"__cell__required__\" : \"\"} ${\n        border ? \"__cell__border__\" : \"\"\n      } ${center ? \"__cell__center__\" : \"\"} ${className ?? \"\"}`}\n    >\n      {_icon}\n      {_title}\n      {_value}\n      {_rightIcon}\n      {props?.children}\n    </View>\n  );\n};\n\nconst defaultCellGroupProps: CellGroupProps = {\n  border: true,\n};\nconst CellGroup = (props: CellGroupProps): typeof CellGroup => {\n  const { title, titleClass, titleStyle, border, className, ...restProps } = {\n    ...defaultCellGroupProps,\n    ...props,\n  };\n\n  const cellGroup = useMemo(\n    () => (\n      <View\n        {...restProps}\n        className={`__cell__group__ ${border ? \"border-top-bottom\" : \"\"} ${\n          className ?? \"\"\n        }`}\n      >\n        {props?.children}\n      </View>\n    ),\n    [border, className, props, restProps]\n  );\n\n  const titleComponent = useMemo(() => {\n    if (isUndefined(title)) return null;\n    return !isValidElement(title) ? (\n      <View\n        style={titleStyle}\n        className={`__cell__group__title__ ${titleClass ?? \"\"}`}\n      >\n        {title}\n      </View>\n    ) : (\n      title\n    );\n  }, [title, titleClass, titleStyle]);\n\n  return title ? (\n    <React.Fragment>\n      {titleComponent}\n      {cellGroup}\n    </React.Fragment>\n  ) : (\n    cellGroup\n  );\n};\n\nexport { Cell as default, CellGroup };\n"],"names":[],"mappings":"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"}