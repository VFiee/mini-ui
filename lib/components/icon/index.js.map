{"version":3,"file":"index.js","sources":["../../../packages/components/icon/index.tsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { View, Image, CoverView, CoverImage } from \"@tarojs/components\";\nimport { mergeStyle } from \"utils\";\nimport { IconProps } from \"types\";\n\nconst defaultIconProps = {\n  isCover: false,\n  fontFamily: \"iconfont\",\n};\n\nconst Icon = (props: IconProps) => {\n  const {\n    type,\n    size,\n    color,\n    style,\n    localImage,\n    className,\n    fontFamily,\n    isCover,\n    ...rest\n  } = {\n    ...defaultIconProps,\n    ...props,\n  };\n  const isImage = localImage || (type && type.indexOf(\"/\") !== -1);\n  const mergedStyle = useMemo(\n    () =>\n      mergeStyle(\n        {\n          color: color ?? \"\",\n          fontSize: size ?? \"\",\n        },\n        style\n      ),\n    [style, color, size]\n  );\n  const CView = isCover ? CoverView : View;\n  const CImage = isCover ? CoverImage : Image;\n  let imageProps = {\n    src: type,\n    className: \"__icon__origin__image__\",\n  };\n  if (!isCover) {\n    imageProps[\"mode\"] = \"aspectFill\";\n  }\n  return (\n    <CView\n      {...rest}\n      style={mergedStyle}\n      className={`__icon__ ${isImage ? `__icon__image__` : fontFamily} ${\n        isImage ? \"\" : type\n      } ${className ?? \"\"}`}\n    >\n      {isImage && <CImage {...imageProps} />}\n      {props.children}\n    </CView>\n  );\n};\nIcon.options = {\n  addGlobalClass: true,\n};\nexport default Icon;\n"],"names":[],"mappings":";;;;;AAKA,IAAM,gBAAgB,GAAG;IACvB,OAAO,EAAE,KAAK;IACd,UAAU,EAAE,UAAU;CACvB,CAAC;IAEI,IAAI,GAAG,UAAC,KAAgB;IAC5B,IAAM,2BAWD,gBAAgB,GAChB,KAAK,CACT,EAZC,IAAI,UAAA,EACJ,IAAI,UAAA,EACJ,KAAK,WAAA,EACL,KAAK,WAAA,EACL,UAAU,gBAAA,EACV,SAAS,eAAA,EACT,UAAU,gBAAA,EACV,OAAO,aAAA,EACJ,IAAI,cATH,sFAUL,CAGA,CAAC;IACF,IAAM,OAAO,GAAG,UAAU,KAAK,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACjE,IAAM,WAAW,GAAG,OAAO,CACzB;QACE,OAAA,UAAU,CACR;YACE,KAAK,EAAE,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,EAAE;YAClB,QAAQ,EAAE,IAAI,aAAJ,IAAI,cAAJ,IAAI,GAAI,EAAE;SACrB,EACD,KAAK,CACN;KAAA,EACH,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CACrB,CAAC;IACF,IAAM,KAAK,GAAG,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC;IACzC,IAAM,MAAM,GAAG,OAAO,GAAG,UAAU,GAAG,KAAK,CAAC;IAC5C,IAAI,UAAU,GAAG;QACf,GAAG,EAAE,IAAI;QACT,SAAS,EAAE,yBAAyB;KACrC,CAAC;IACF,IAAI,CAAC,OAAO,EAAE;QACZ,UAAU,CAAC,MAAM,CAAC,GAAG,YAAY,CAAC;KACnC;IACD,QACE,oBAAC,KAAK,eACA,IAAI,IACR,KAAK,EAAE,WAAW,EAClB,SAAS,EAAE,eAAY,OAAO,GAAG,iBAAiB,GAAG,UAAU,WAC7D,OAAO,GAAG,EAAE,GAAG,IAAI,WACjB,SAAS,aAAT,SAAS,cAAT,SAAS,GAAI,EAAE,CAAE;QAEpB,OAAO,IAAI,oBAAC,MAAM,eAAK,UAAU,EAAI;QACrC,KAAK,CAAC,QAAQ,CACT,EACR;AACJ,EAAE;AACF,IAAI,CAAC,OAAO,GAAG;IACb,cAAc,EAAE,IAAI;CACrB;;;;"}