{"version":3,"file":"index.js","sources":["../../../packages/components/overlay/index.tsx"],"sourcesContent":["import React from \"react\";\nimport { View } from \"@tarojs/components\";\nimport { useMenuButton } from \"hooks\";\nimport { mergeStyle } from \"utils\";\nimport Transition from \"components/transition\";\nimport { OverlayProps } from \"types\";\n\nconst defaultOverlayProps: OverlayProps = {\n  show: false,\n  zIndex: 1,\n  opacity: 0.6,\n  duration: 0.3,\n  className: \"\",\n  preventScroll: true,\n  customAppbar: false,\n};\n\nconst Overlay = (props: OverlayProps) => {\n  const {\n    show,\n    style,\n    zIndex,\n    onClick,\n    opacity,\n    duration,\n    className,\n    preventScroll,\n    customAppbar,\n  } = {\n    ...defaultOverlayProps,\n    ...props,\n  };\n  const { wrapStyle } = useMenuButton();\n  let _mergeStyle = mergeStyle(\n    {\n      zIndex: zIndex as number,\n      transitionDuration:\n        typeof duration === \"string\" ? duration : duration + \"s\",\n      backgroundColor: `rgba(0,0,0,${opacity})`,\n    },\n    style\n  );\n  if (customAppbar) {\n    _mergeStyle += ` top:${wrapStyle?.height ?? 0};`;\n  }\n  return (\n    <Transition show={show} name=\"fade\">\n      <View\n        onClick={onClick}\n        style={_mergeStyle}\n        className={`__overlay__ ${className}`}\n        onTouchMove={(eve) => {\n          preventScroll && eve.stopPropagation();\n        }}\n      >\n        {props.children}\n      </View>\n    </Transition>\n  );\n};\n\nexport default Overlay;\n"],"names":[],"mappings":";;;;;;;AAOA,IAAM,mBAAmB,GAAiB;IACxC,IAAI,EAAE,KAAK;IACX,MAAM,EAAE,CAAC;IACT,OAAO,EAAE,GAAG;IACZ,QAAQ,EAAE,GAAG;IACb,SAAS,EAAE,EAAE;IACb,aAAa,EAAE,IAAI;IACnB,YAAY,EAAE,KAAK;CACpB,CAAC;IAEI,OAAO,GAAG,UAAC,KAAmB;;IAC5B,IAAA,2BAWD,mBAAmB,GACnB,KAAK,CACT,EAZC,IAAI,UAAA,EACJ,KAAK,WAAA,EACL,MAAM,YAAA,EACN,OAAO,aAAA,EACP,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,SAAS,eAAA,EACT,aAAa,mBAAA,EACb,YAAY,kBAIb,CAAC;IACM,IAAA,SAAS,GAAK,aAAa,EAAE,UAApB,CAAqB;IACtC,IAAI,WAAW,GAAG,UAAU,CAC1B;QACE,MAAM,EAAE,MAAgB;QACxB,kBAAkB,EAChB,OAAO,QAAQ,KAAK,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,GAAG;QAC1D,eAAe,EAAE,gBAAc,OAAO,MAAG;KAC1C,EACD,KAAK,CACN,CAAC;IACF,IAAI,YAAY,EAAE;QAChB,WAAW,IAAI,iBAAQ,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,MAAM,mCAAI,CAAC,OAAG,CAAC;KAClD;IACD,QACE,oBAAC,UAAU,IAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAC,MAAM;QACjC,oBAAC,IAAI,IACH,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,WAAW,EAClB,SAAS,EAAE,iBAAe,SAAW,EACrC,WAAW,EAAE,UAAC,GAAG;gBACf,aAAa,IAAI,GAAG,CAAC,eAAe,EAAE,CAAC;aACxC,IAEA,KAAK,CAAC,QAAQ,CACV,CACI,EACb;AACJ;;;;"}