{"version":3,"file":"index.js","sources":["../../../packages/hooks/usePrevious/index.ts"],"sourcesContent":["import { useRef } from \"react\";\n\nexport declare type compareFunction<T> = (prev: T | undefined, next: T) => boolean;\n\nconst usePrevious = <T>(\n  state: T,\n  compare?: compareFunction<T>\n): T | undefined => {\n  const prevRef = useRef<T>();\n  const curRef = useRef<T>();\n\n  const needUpdate =\n    typeof compare === \"function\" ? compare(curRef.current, state) : true;\n  if (needUpdate) {\n    prevRef.current = curRef.current;\n    curRef.current = state;\n  }\n\n  return prevRef.current;\n};\n\nexport default usePrevious;\n"],"names":[],"mappings":";;IAIM,WAAW,GAAG,UAClB,KAAQ,EACR,OAA4B;IAE5B,IAAM,OAAO,GAAG,MAAM,EAAK,CAAC;IAC5B,IAAM,MAAM,GAAG,MAAM,EAAK,CAAC;IAE3B,IAAM,UAAU,GACd,OAAO,OAAO,KAAK,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC;IACxE,IAAI,UAAU,EAAE;QACd,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QACjC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;KACxB;IAED,OAAO,OAAO,CAAC,OAAO,CAAC;AACzB;;;;"}