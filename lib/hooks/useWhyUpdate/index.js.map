{"version":3,"file":"index.js","sources":["../../../packages/hooks/useWhyUpdate/index.ts"],"sourcesContent":["import { useRef, useEffect } from \"react\";\n\nexport declare type cProps = {\n  [key: string]: any;\n};\n\nconst useWhyUpdate = (componentName: string, props: cProps) => {\n  const previousProps = useRef<cProps>({});\n  useEffect(() => {\n    if (previousProps.current) {\n      const keys = Object.keys({ ...previousProps.current, ...props });\n      let changedProps: cProps = {};\n      keys.forEach((key) => {\n        if (previousProps[key] !== props[key]) {\n          changedProps[key] = {\n            prev: previousProps.current[key],\n            next: props[key],\n          };\n        }\n      });\n      if (Object.keys(changedProps).length > 0) {\n        console.log(`why-${componentName}-update:`, changedProps);\n      }\n    }\n    previousProps.current = props;\n  });\n};\n\nexport default useWhyUpdate;\n"],"names":[],"mappings":";;;IAMM,YAAY,GAAG,UAAC,aAAqB,EAAE,KAAa;IACxD,IAAM,aAAa,GAAG,MAAM,CAAS,EAAE,CAAC,CAAC;IACzC,SAAS,CAAC;QACR,IAAI,aAAa,CAAC,OAAO,EAAE;YACzB,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,uBAAM,aAAa,CAAC,OAAO,GAAK,KAAK,EAAG,CAAC;YACjE,IAAI,cAAY,GAAW,EAAE,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG;gBACf,IAAI,aAAa,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE;oBACrC,cAAY,CAAC,GAAG,CAAC,GAAG;wBAClB,IAAI,EAAE,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC;wBAChC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC;qBACjB,CAAC;iBACH;aACF,CAAC,CAAC;YACH,IAAI,MAAM,CAAC,IAAI,CAAC,cAAY,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxC,OAAO,CAAC,GAAG,CAAC,SAAO,aAAa,aAAU,EAAE,cAAY,CAAC,CAAC;aAC3D;SACF;QACD,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;KAC/B,CAAC,CAAC;AACL;;;;"}